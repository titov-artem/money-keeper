<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="../lib/bootstrap/css/awesome-bootstrap-checkbox.css">
    <link rel="stylesheet" href="../lib/bootstrap/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="../lib/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/common.css">

    <script language="JavaScript" src="../lib/js/jquery-2.1.4.min.js"></script>
    <script language="JavaScript" src="../lib/bootstrap/js/bootstrap.min.js"></script>
    <script language="JavaScript" src="../lib/bootstrap/js/bootstrap-select.min.js"></script>

    <script language="JavaScript" src="../js/common.js"></script>

</head>
<body>
<script language="JavaScript">
    $(document).ready(function () {
        $('#upload-bank-statement').click(function () {
            var uploadResult = JSON.parse(endpoint.post('/bank/statement', [$('#bank-type').val()]));
            if (uploadResult === 'SUCCESS') {
                showAlert('#file-uploaded', 3000);
            } else if (uploadResult === 'FAILED') {
                showAlert('#failed-to-upload-file-alert', 3000);
            } else if (uploadResult === 'NO_FILE_CHOSEN') {
                showAlert('#no-file-selected-alert', 3000);
            }
        });
    });
</script>

<div class="panel panel-default">
    <div class="panel-heading">
        Upload bank statement
    </div>
    <div class="panel-body">
        <form class="form-inline">
            <div class="form-group">
                <select id="bank-type" class="selectpicker">
                    <option value="RAIFFEISEN_CARD" selected>Raiffeisen card</option>
                    <option value="TINKOFF">Tinkoff</option>
                </select>
            </div>
            <div class="form-group">
                <button id="upload-bank-statement" class="btn btn-primary" type="button">Upload</button>
            </div>
        </form>
        <div class="alerts-container">
            <div id="file-uploaded" class="alert alert-success hidden" role="alert">Bank statement uploaded
                successfully
            </div>
            <div id="no-file-selected-alert" class="alert alert-warning hidden" role="alert">No file was selected</div>
            <div id="failed-to-upload-file-alert" class="alert alert-danger hidden" role="alert">
                Failed to upload bank statement file due to exception
            </div>
        </div>
    </div>
</div>

</body>
</html>